{% extends 'base.html' %}
{% block title %}Cloudrr Search{% endblock %}

{% block body %}

<label for="exampleDataList" class="form-label">Datalist example</label>
<input class="form-control" list="datalistOptions" id="exampleDataList" placeholder="Type to search...">
<datalist id="datalistOptions">
  <option value="San Francisco">
  <option value="New York">
  <option value="Seattle">
  <option value="Los Angeles">
  <option value="Chicago">
</datalist>


<div id="animal-type-test">
    SHOULD BE REPLACED?
</div>



<div>SEARCH STUFF</div>

<div id="animal-search">
    <!-- "species": "dog",
    "location": "OR",
    "age": "young", -->
    <form action="/animal-search">
        <label for="species-select">Type of animal:</label>
        <select name="species" id="species-select">
            <option value="cat">Cat</option>
            <option value="dog">Dog</option>
        </select>
        <br>
        <label for="animal-location">Location of animal:</label>
        <input type="text" name="animal-location" id="animal-location">
      

        </select>
        <br>
        <div>
            <span>Age of animal</span><br>
            <input type="checkbox" name="animal_age" value="baby" id="age-baby-check">
            <label for="age-baby-check">Baby</label>
            
            <input type="checkbox" name="animal_age" value="young" id="age-young-check">
            <label for="age-young-check">Young</label>

            <input type="checkbox" name="animal_age" value="adult" id="age-adult-check">
            <label for="age-adult-check">Adult</label>

            <input type="checkbox" name="animal_age" value="young" id="age-senior-check">
            <label for="age-senior-check">Senior</label>
        </div>
        <input type="submit">
    </form>



</div>


<div>
    <script>


        // when this page loads, we'll fetch for all data within animal-types.json 

        // fetch('/animal-types', {
        //     method: 'POST',
        //     body: JSON.stringify(buttonFetchBodyJson),
        //     headers: {
        //       'Content-Type': 'application/json',
        //     },
        //   })
        //   .then((response) => response.json())





        // store the response data in a variable --> animalData = fetch response
        // create an eventlistener for animal selection changes

        const testInput = document.querySelector('#exampleDataList');
        testInput.addEventListener('change', () => {
        console.log(this.value);
        fetch('/animal-types')
            .then((response) => response.json())
            console.log(response)
            .then((responseData) => {
                document.querySelector('#animal-type-test').innerText = responseData;
            });
        console.log(responseData)
        });


        // specieSelect.addEventListener('change', () => {
        //      const animalSelected = speciesSelected.value ex.dog  .forEach - one line for loop
        //      animalData.forEach((animal) => {
        //          if animal.name === animalSelected {
        //             dropdownQuerySelector.add(animal.coats)
        //             dropdownQuerySelector.add(animal.colors)
        //          }
        //      }) 
        // })




    </script>

</div>
{% endblock %}